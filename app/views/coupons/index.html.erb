<div class="content_body" id="content_body">
  <div class="col-lg-3 col-xs-12 col-sm-6">
    <div class="itemselect_filter green">
      <i class="fa fa-list"></i>
      <%= link_to 'New Coupon', new_coupon_path %>
    </div>
  </div>
   <div class="content_box_border">
  <div class="table_data_check">
    <div class="table_head_sec">
      <h2>Coupon Details</h2>
    </div>
    <div class="table_overflow">
      <table class="tablenormal" id="table_filter">
        <thead>
          <tr>
            <th class="sort_table_row">code</th>
            <th class="sort_table_row">Discount Percentage</th>
            <th class="sort_table_row">Min Purchase Amount</th>
            <th class="sort_table_row">Max Discount Amount</th>
            <th class="sort_table_row">Expiry Date</th>
            <th class="sort_table_row">Actions</th>
            <th class="sort_table_row">View</th>
          </tr>
        </thead>
        <tbody>
          <% @coupons.each do |coupon| %>
            <tr>
              <td><%= coupon.code %></td>
              <td><%= coupon.discount_percentage %></td>
              <td><%= coupon.min_purchase_amount %></td>
              <td><%= coupon.max_discount_amount %></td>
              <td><%= coupon.expiry_date %></td>
              <td><%= link_to 'Show', coupon %></td>
              <td><%= link_to 'Edit', edit_coupon_path(coupon) %></td>
              <td><%= link_to 'Destroy', coupon, method: :delete, data: { confirm: 'Are you sure?' } %></td>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
<script type="text/javascript">
  $(document).ready(function() {
    // Destroy existing DataTable instance, if any
    if ($.fn.DataTable.isDataTable('#table_filter')) {
      $('#table_filter').DataTable().destroy();
    }

    // Reinitialize DataTable
    $('#table_filter').DataTable({
      // DataTable options go here
    });
  });
</script>
